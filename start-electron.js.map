{"version":3,"sources":["start-electron.js"],"names":["finalhandler","require","http","serveStatic","freeport","serve","server","createServer","req","res","err","port","listen","electron","app","BrowserWindow","mainWindow","createWindow","width","height","loadURL","on","process","platform","quit"],"mappings":";;AAAA;;AAEA,IAAMA,eAAeC,QAAQ,cAAR,CAArB;AACA,IAAMC,OAAOD,QAAQ,MAAR,CAAb;AACA,IAAME,cAAcF,QAAQ,cAAR,CAApB;AACA,IAAMG,WAAWH,QAAQ,UAAR,CAAjB;;AAEA,IAAMI,QAAQF,YAAY,GAAZ,EAAiB,EAAE,SAAS,CAAC,YAAD,CAAX,EAAjB,CAAd;;AAEA,IAAMG,SAASJ,KAAKK,YAAL,CAAkB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC7CJ,QAAMG,GAAN,EAAWC,GAAX,EAAgBT,aAAaQ,GAAb,EAAkBC,GAAlB,CAAhB;AACD,CAFc,CAAf;;AAIAL,SAAS,UAACM,GAAD,EAAMC,IAAN,EAAe;AACtB,MAAID,GAAJ,EAAS,MAAMA,GAAN;AACTJ,SAAOM,MAAP,CAAcD,IAAd;;AAEA;;AAEA,MAAME,WAAWZ,QAAQ,UAAR,CAAjB;AACA,MAAMa,MAAMD,SAASC,GAArB;AACA,MAAMC,gBAAgBF,SAASE,aAA/B;;AAEA,MAAIC,mBAAJ;;AAEA,WAASC,YAAT,GAAwB;AACtBD,iBAAa,IAAID,aAAJ,CAAkB,EAAEG,OAAO,IAAT,EAAeC,QAAQ,GAAvB,EAAlB,CAAb;AACAH,eAAWI,OAAX,uBAAuCT,IAAvC;AACAK,eAAWK,EAAX,CAAc,QAAd,EAAwB;AAAA,aAAML,aAAa,IAAnB;AAAA,KAAxB;AACD;;AAEDF,MAAIO,EAAJ,CAAO,OAAP,EAAgBJ,YAAhB;;AAEAH,MAAIO,EAAJ,CAAO,mBAAP,EAA4B,YAAM;AAChC,QAAIC,QAAQC,QAAR,KAAqB,QAAzB,EAAmCT,IAAIU,IAAJ;AACpC,GAFD;;AAIAV,MAAIO,EAAJ,CAAO,UAAP,EAAmB,YAAM;AACvB,QAAIL,eAAe,IAAnB,EAAyBC;AAC1B,GAFD;AAGD,CA3BD","file":"start-electron.js","sourcesContent":["// start server\n\nconst finalhandler = require('finalhandler');\nconst http = require('http');\nconst serveStatic = require('serve-static');\nconst freeport = require('freeport');\n\nconst serve = serveStatic('.', { 'index': ['index.html'] });\n\nconst server = http.createServer((req, res) => {\n  serve(req, res, finalhandler(req, res));\n});\n\nfreeport((err, port) => {\n  if (err) throw err;\n  server.listen(port);\n\n  // start electron\n\n  const electron = require('electron');\n  const app = electron.app;\n  const BrowserWindow = electron.BrowserWindow;\n\n  let mainWindow;\n\n  function createWindow() {\n    mainWindow = new BrowserWindow({ width: 1024, height: 800 });\n    mainWindow.loadURL(`http://localhost:${port}`);\n    mainWindow.on('closed', () => mainWindow = null);\n  }\n\n  app.on('ready', createWindow);\n\n  app.on('window-all-closed', () => {\n    if (process.platform !== 'darwin') app.quit();\n  });\n\n  app.on('activate', () => {\n    if (mainWindow === null) createWindow();\n  });\n})\n\n"]}